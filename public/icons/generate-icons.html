<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Generator - ChakmaLex</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
        .icon-preview { display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0; }
        .icon-item { text-align: center; }
        .icon-item img { border: 1px solid #ddd; border-radius: 8px; }
        .download-section { margin: 20px 0; padding: 20px; background: #f8f9fa; border-radius: 8px; }
        .btn { padding: 8px 16px; background: #007bff; color: white; text-decoration: none; border-radius: 4px; }
        .btn:hover { background: #0056b3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ChakmaLex Icon Generator</h1>
        <p>This tool generates all required icon sizes for the ChakmaLex PWA from the base SVG icon.</p>
        
        <div class="icon-preview" id="iconPreview">
            <!-- Icons will be generated here -->
        </div>
        
        <div class="download-section">
            <h3>Download Instructions</h3>
            <p>Right-click on each icon and save it to the <code>public/icons/</code> directory with the corresponding filename:</p>
            <ul>
                <li>icon-72x72.png</li>
                <li>icon-96x96.png</li>
                <li>icon-128x128.png</li>
                <li>icon-144x144.png</li>
                <li>icon-152x152.png</li>
                <li>icon-192x192.png</li>
                <li>icon-384x384.png</li>
                <li>icon-512x512.png</li>
            </ul>
        </div>
    </div>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];
        const svgContent = `<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#a855f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="textGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f8fafc;stop-opacity:0.9" />
    </linearGradient>
  </defs>
  
  <rect width="512" height="512" rx="96" ry="96" fill="url(#bgGradient)" />
  <rect x="8" y="8" width="496" height="496" rx="88" ry="88" fill="none" stroke="#ffffff" stroke-width="2" opacity="0.2" />
  <rect x="96" y="96" width="320" height="320" rx="48" ry="48" fill="none" stroke="#ffffff" stroke-width="4" opacity="0.3" />
  <path d="M180 200 Q160 180 160 220 L160 292 Q160 332 180 312 Q200 292 220 292 L240 292" 
        stroke="url(#textGradient)" 
        stroke-width="24" 
        stroke-linecap="round" 
        stroke-linejoin="round" 
        fill="none" />
  <path d="M280 200 L280 292 L340 292" 
        stroke="url(#textGradient)" 
        stroke-width="24" 
        stroke-linecap="round" 
        stroke-linejoin="round" 
        fill="none" />
  <circle cx="200" cy="160" r="6" fill="#ffffff" opacity="0.6" />
  <circle cx="320" cy="160" r="6" fill="#ffffff" opacity="0.6" />
  <circle cx="260" cy="340" r="8" fill="#ffffff" opacity="0.4" />
  <rect x="140" y="360" width="80" height="6" rx="3" ry="3" fill="#ffffff" opacity="0.3" />
  <rect x="160" y="376" width="60" height="4" rx="2" ry="2" fill="#ffffff" opacity="0.2" />
  <rect x="280" y="360" width="80" height="6" rx="3" ry="3" fill="#ffffff" opacity="0.3" />
  <rect x="300" y="376" width="60" height="4" rx="2" ry="2" fill="#ffffff" opacity="0.2" />
</svg>`;

        function generateIcon(size) {
            return new Promise((resolve) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = size;
                canvas.height = size;

                const img = new Image();
                img.onload = () => {
                    ctx.drawImage(img, 0, 0, size, size);
                    canvas.toBlob((blob) => {
                        const url = URL.createObjectURL(blob);
                        resolve(url);
                    }, 'image/png');
                };
                
                const svgBlob = new Blob([svgContent], { type: 'image/svg+xml' });
                const svgUrl = URL.createObjectURL(svgBlob);
                img.src = svgUrl;
            });
        }

        async function generateAllIcons() {
            const preview = document.getElementById('iconPreview');
            
            for (const size of sizes) {
                const iconUrl = await generateIcon(size);
                
                const iconItem = document.createElement('div');
                iconItem.className = 'icon-item';
                iconItem.innerHTML = `
                    <img src="${iconUrl}" width="${Math.min(size, 128)}" height="${Math.min(size, 128)}" alt="Icon ${size}x${size}">
                    <div>${size}x${size}</div>
                    <a href="${iconUrl}" download="icon-${size}x${size}.png" class="btn">Download</a>
                `;
                
                preview.appendChild(iconItem);
            }
        }

        generateAllIcons();
    </script>
</body>
</html>
